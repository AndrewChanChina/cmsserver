<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN" "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>

	<form-beans>
		<form-bean name="smitLoginForm" type="com.smit.web.form.SmitLoginForm"></form-bean>
		<form-bean name="registerForm" type="com.smit.web.form.RegisterForm"></form-bean>
		<form-bean name="groupForm" type="com.smit.web.form.GroupForm"></form-bean>
		<form-bean name="userForm" type="com.smit.web.form.UserForm"></form-bean>
		<form-bean name="purviewForm" type="com.smit.web.form.PurviewForm"></form-bean>
		<form-bean name="addSysInfoForm" type="com.smit.web.sysinfo.AddSysInfoForm"></form-bean>
		<form-bean name="addColumnForm" type="com.smit.web.column.AddColumnForm"></form-bean>

		<form-bean name="contentForm" type="com.smit.web.content.forms.ContentForm" />

		<form-bean name="uploadForm" type="com.smit.web.UploadForm" />
		<form-bean name="contentDynaActionForm" type="org.apache.struts.action.DynaActionForm">
			<form-property name="id" type="java.lang.Integer" />
			<form-property name="author_id" type="java.lang.Integer" />
			<form-property name="title" type="java.lang.String" />
			<form-property name="shortTitle" type="java.lang.String" />
			<form-property name="isCheck" type="java.lang.Integer" />
			<form-property name="typeName" type="java.lang.String" />
			<form-property name="content" type="java.lang.String" />
			<form-property name="excerpt" type="java.lang.String" />
			<form-property name="tags" type="java.lang.String" />
			<form-property name="source" type="java.lang.String" />
			<form-property name="createtime" type="java.lang.Double" />
			<form-property name="langType" type="java.lang.Integer" />
			<form-property name="putter" type="java.lang.Integer" />
			<form-property name="sortRank" type="java.lang.Integer" />
			<form-property name="prime" type="java.lang.Integer" />
			<form-property name="subImg" type="java.lang.String" />
		</form-bean>

		<form-bean name="pushDataForm" type="com.smit.web.form.PushDataForm"></form-bean>
		<form-bean name="pushServiceForm" type="com.smit.web.form.PushServiceForm"></form-bean>
		<form-bean name="logForm" type="com.smit.web.control.form.LogForm"></form-bean>
		<form-bean name="detailForm" type="com.smit.web.control.form.DetailLogForm"></form-bean>
		<form-bean name="orderForm" type="com.smit.web.control.form.OrderForm"></form-bean>
	</form-beans>

	<global-forwards>
		<forward name="register" path="/register.jsp" />
		<forward name="login" path="/login.jsp" />
		<forward name="success" path="/success.jsp" />
		<forward name="fail" path="/fail.jsp" />
		<forward name="test" path="/WEB-INF/sys/user_main.jsp" />
		<forward name="bad_req" path="/WEB-INF/sys/bad_req.jsp" />
		<forward name="listPush" path="/pushservicemanager.do?opt=list" />
	</global-forwards>

	<action-mappings>

		<!-- login -->
		<action path="/login"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="login" name="smitLoginForm" input="/login.jsp" validate="true">
			<forward name="success-admin" path="/WEB-INF/sys/index.html" />
			<forward name="success-user" path="/home.do" />
			<forward name="fail" path="/login.jsp" />
		</action>
		<action path="/logout"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="logout">
			<forward name="success" path="/login.jsp" />
		</action>
		<action path="/register"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="register" name="registerForm" input="/register.jsp"
			validate="true">
			<forward name="success" path="/WEB-INF/sys/index.html" />
			<forward name="fail" path="/fail.jsp" />
		</action>

		<!-- language -->
		<action path="/Locale" type="com.smit.web.LanguageSelectAction"
			parameter="method" validate="false">
			<forward name="success" path="/language.jsp" />
		</action>

		<!-- user manager -->
		<action path="/listuser"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="listUser">
			<forward name="showuserlist" path="/WEB-INF/sys/user_list.jsp" />
		</action>
		<action path="/gonewuser"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="goNewUser">
			<forward name="continue" path="/WEB-INF/sys/user_manager.jsp" />
		</action>
		<action path="/saveupdateuser"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="saveUpdateUser" name="userForm">
			<forward name="userright_userlist" path="/listuser.do" />
			<forward name="fail" path="/WEB-INF/sys/fail.jsp" />
		</action>
		<action path="/deleteuser"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="deleteUser">
			<forward name="userright_userlist" path="/listuser.do" />
			<forward name="fail" path="/WEB-INF/sys/fail.jsp" />
		</action>

		<!-- group manager -->
		<action path="/grouplist"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="groupList">
			<forward name="showgrouplist" path="/WEB-INF/sys/group_list.jsp" />
		</action>
		<action path="/gonewgroup"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="goNewGroup">
			<forward name="continue" path="/WEB-INF/sys/group_manager.jsp" />
		</action>
		<action path="/saveupdategroup"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="saveUpdateGroup" name="groupForm">
			<forward name="userright_grouplist" path="/grouplist.do" />
		</action>
		<action path="/deletegroup"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="deleteGroup">
			<forward name="userright_grouplist" path="/grouplist.do" />
		</action>

		<!-- purview action -->
		<action path="/listpurview"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="listPurview">
			<forward name="showpurviewlist" path="/WEB-INF/sys/purview_list.jsp" />
		</action>
		<action path="/gonewpurview"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="goNewPurview">
			<forward name="continue" path="/WEB-INF/sys/purview_manager.jsp" />
		</action>
		<action path="/saveupdatepurview"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="saveUpdatePurview" name="purviewForm">
			<forward name="userright_purviewlist" path="/listpurview.do" />
		</action>
		<action path="/deletepurview"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="deletePurview">
			<forward name="userright_purviewlist" path="/listpurview.do" />
		</action>

		<!-- 内容控制器 -->
		<action path="/content"
			type="org.springframework.web.struts.DelegatingActionProxy" name="contentForm"
			parameter="op">
			<forward name="manager" path="/WEB-INF/sys/content_manager.jsp"></forward>
			<forward name="list" path="/WEB-INF/sys/content_list.jsp"></forward>
		</action>


		<!-- sysinfo -->
		<action path="/addSysInfo"
			type="org.springframework.web.struts.DelegatingActionProxy" name="addSysInfoForm"
			parameter="addSysInfo">
			<forward name="success" path="/success.jsp" />
			<forward name="fail" path="/fail.jsp" />
			<forward name="reload" path="/WEB-INF/sys/sysinfo.jsp" />
		</action>
		<action path="/deleteSysInfo"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="deleteSysInfo">
			<forward name="reload" path="/WEB-INF/sys/sysinfo.jsp" />
		</action>
		<action path="/updateSysInfo"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="updateSysInfo">
			<forward name="reload" path="/WEB-INF/sys/sysinfo.jsp" />
		</action>
		<action path="/enableSysInfo"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="enableSysInfo">
			<forward name="reload" path="/WEB-INF/sys/sysinfo.jsp" />
		</action>

		<!-- column -->
		<action path="/addColumn"
			type="org.springframework.web.struts.DelegatingActionProxy" name="addColumnForm"
			parameter="addColumn">
			<forward name="reload" path="/WEB-INF/sys/add_column.jsp" />
		</action>
		<action path="/deleteColumn"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="deleteColumn">
			<forward name="reload" path="/WEB-INF/sys/add_column.jsp" />
		</action>
		<action path="/updateColumn"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="updateColumn">
			<forward name="reload" path="/WEB-INF/sys/add_column.jsp" />
		</action>

		<!-- framework forward action -->
		<action path="/showTopFrame" type="org.apache.struts.actions.ForwardAction"
			parameter="/WEB-INF/sys/top.jsp" scope="request" validate="false">
		</action>
		<action path="/index" type="org.apache.struts.actions.ForwardAction"
			parameter="/WEB-INF/sys/index.jsp" scope="request" validate="false">
		</action>
		<action path="/showMainFrame" type="org.apache.struts.actions.ForwardAction"
			parameter="/WEB-INF/sys/main.jsp" scope="request" validate="false">
		</action>
		<action path="/showLeftFrame"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="showLeftFrame">
			<forward name="to_left" path="/WEB-INF/sys/left.jsp" />
			<forward name="column_tree_page" path="/WEB-INF/sys/column_tree.jsp" />
		</action>
		<action path="/showRightFrame"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="showRightFrame">
			<forward name="sys_info_page" path="/WEB-INF/sys/sysinfo.jsp" />
			<forward name="add_Column_page" path="/WEB-INF/sys/add_column.jsp" />
		</action>

		<action path="/showSysInfo"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="showSysInfoPage">
			<forward name="sysInfo" path="/WEB-INF/sys/sysinfo.jsp" />
		</action>
		<action path="/showLogInfo" type="com.smit.web.ShowLogInfoPageAction">
			<forward name="logInfo" path="/WEB-INF/sys/log_list.jsp" />
		</action>

		<!-- add by luocheng 2011-04-26 #########################-->
		<action path="/showBaseLog" type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="showLogPage">
			<forward name="baseLog" path="/WEB-INF/sys/base.jsp"></forward>
		</action>
		<action path="/showDetailLog" type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="showLogPage">
			<forward name="baseLog" path="/WEB-INF/sys/base.jsp"></forward>
		</action>
		<action path="/showBaseLog" type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="showLogPage">
			<forward name="baseLog" path="/WEB-INF/sys/base.jsp"></forward>
			<forward name="detail" path="/WEB-INF/sys/detail.jsp"></forward>
			<forward name="order" path="/WEB-INF/sys/procontrol/order.jsp"></forward>
			<forward name="testOption" path="/WEB-INF/sys/procontrol/option_test.jsp"></forward>
		</action>
 		<action path="/logUpload" name="logForm" parameter="log"
 		type="org.springframework.web.struts.DelegatingActionProxy">
 		</action>
		<action path="/detailLog" name="detailForm" parameter="detailLog"
 		type="org.springframework.web.struts.DelegatingActionProxy">
 		</action>
 		<action path="/showOrder"  parameter="showOrder"
 		type="org.springframework.web.struts.DelegatingActionProxy">
 			<forward name="add" path="/WEB-INF/sys/procontrol/order_add.jsp"></forward>
 			<forward name="delete" path="/WEB-INF/sys/procontrol/delete.jsp"></forward>
 		</action> 
 		<action path="/order" name="orderForm" type="org.springframework.web.struts.DelegatingActionProxy"
 		parameter="addOrder">
 			<forward name="success" path="success.jsp"></forward>
 		</action>
 		<action path="/queryOrder"  type="org.springframework.web.struts.DelegatingActionProxy"
 		parameter="queryOrder">
 			<forward name="showOrders" path="/WEB-INF/sys/procontrol/order.jsp"></forward>
 		</action>
 		<action path="/showAuth" type="org.springframework.web.struts.DelegatingActionProxy"
 		parameter="showAuth">
 			<forward name="loginAuth" path="/WEB-INF/sys/procontrol/auth.jsp"></forward>
 			<forward name="requestAuth" path="/WEB-INF/sys/procontrol/auth.jsp"></forward>
 			<forward name="active" path="/WEB-INF/sys/procontrol/auth.jsp"></forward>
 		</action>
 		<action path="/testOption" type="org.springframework.web.struts.DelegatingActionProxy" 
 		parameter="addOption"></action>
 		<action path="/loginAuth" type="org.springframework.web.struts.DelegatingActionProxy"
 		parameter="loginAuth"></action>
 		<!-- end of luocheng ============================-->
		<!-- 上传控制器 -->
		<action path="/uploadfile" type="org.apache.struts.actions.ForwardAction"
			parameter="/WEB-INF/sys/upload.jsp" scope="request" validate="false" />
		<action path="/upload" name="uploadForm"
			type="org.springframework.web.struts.DelegatingActionProxy" scope="request"
			parameter="op">
			<forward name="upload" path="/WEB-INF/sys/upload.jsp"></forward>
			<forward name="list" path="/WEB-INF/sys/upload_list.jsp"></forward>
		</action>


		<!-- push service -->
		<action path="/home"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="home">
			<forward name="success" path="/WEB-INF/sys/pushService/home.jsp" />
		</action>
		<action path="/developer_register"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="developerRegister" name="registerForm" input="/devregister_page.do"
			validate="true">
			<forward name="success" path="/login.jsp" />
		</action>
		<action path="/pushdata"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="pushData" name="pushDataForm">
			<forward name="success" path="/home.do" />
		</action>
		<action path="/devregister_page" type="org.apache.struts.actions.ForwardAction"
			parameter="/WEB-INF/sys/pushService/developer_register.jsp" scope="request"
			validate="false">
		</action>
		<action path="/pushservicemanage"
			type="org.springframework.web.struts.DelegatingActionProxy"
			parameter="opt" name="pushServiceForm">
			<forward name="success" path="/login.jsp" />
			<forward name="listPage" path="/WEB-INF/sys/pushService/pushservice_list.jsp" />
			<forward name="managePage"
				path="/WEB-INF/sys/pushService/pushservice_manage.jsp" />
			<forward name="back2ListPage" path="/pushservicemanage.do?opt=list" />
			<forward name="sendData" path="/home.do"></forward>
		</action>

	</action-mappings>
	<!-- 配置上传文件大小 -->
	<controller maxFileSize="8M">

	</controller>
	<message-resources parameter="com.smit.web.res.ApplicationResources" />

	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/validator-rules.xml, /WEB-INF/validator-user.xml" />
	</plug-in>

</struts-config>



