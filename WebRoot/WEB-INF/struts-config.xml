<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN" "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>

  <form-beans>
   <form-bean name="smitLoginForm" type="com.smit.web.form.SmitLoginForm"></form-bean>
   <form-bean name="registerForm" type="com.smit.web.form.RegisterForm"></form-bean>
   <form-bean name="groupForm" type="com.smit.web.form.GroupForm"></form-bean>
   <form-bean name="userForm" type="com.smit.web.form.UserForm"></form-bean>
   <form-bean name="purviewForm" type="com.smit.web.form.PurviewForm"></form-bean>
  </form-beans>
  
  <global-forwards>
  	<forward name="register" path="/register.jsp"/>
    <forward name="login" path="/login.jsp"/>
    <forward name="sucess" path="/sucess.jsp"/>
    <forward name="fail" path="/WEB-INF/sys/group_fail.jsp"/>
    <forward name="test" path="/WEB-INF/sys/user_main.jsp"/>
  </global-forwards>
  
  <action-mappings>
  <!-- framework forward action -->
  <action 	path="/showTopFrame" type="org.apache.struts.actions.ForwardAction"
  			parameter="/WEB-INF/sys/top.jsp"
			scope="request"
			validate="false">
  </action>
  <action 	path="/showMainFrame" type="org.apache.struts.actions.ForwardAction"
  			parameter="/WEB-INF/sys/main.jsp"
			scope="request"
			validate="false">
  </action>
  <action 	path="/showLeftFrame" type="org.apache.struts.actions.ForwardAction"
  			parameter="/WEB-INF/sys/left.jsp"
			scope="request"
			validate="false">
  </action>
  <!-- login  -->
  <action 	path="/login" type="org.springframework.web.struts.DelegatingActionProxy" 
  			parameter="login" name="smitLoginForm" 
  			input="/login.jsp" validate="true">
  			<forward name="sucess" path="/WEB-INF/sys/index.html"/>
  			<forward name="fail" path="/login.jsp"/>
  </action>
  <action 	path="/logout" type="org.springframework.web.struts.DelegatingActionProxy"
  		  	parameter="logout">
  		  	<forward name="success" path="/login.jsp"/>
  </action>
  <action 	path="/register" type="org.springframework.web.struts.DelegatingActionProxy" 
  			parameter="register" name="registerForm" 
  			input="/register.jsp" validate="true">
   			<forward name="sucess" path="/WEB-INF/sys/index.html"/>
   			<forward name="fail" path="/fail.jsp"/>
  </action>
  
  <!-- language -->
  <action	path="/Locale"	type="com.smit.web.LanguageSelectAction"
			parameter="method"	validate="false">
			<forward name="success" path="/language.jsp"/>
  </action>
  
   <!-- user manager -->
  <action 	path="/listuser" 
  			type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="listUser">     			
    		<forward name="showuserlist" path="/WEB-INF/sys/user_list.jsp"/> 			
  </action>
  <action 	path="/gonewuser" type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="goNewUser">     			
    		<forward name="continue" path="/WEB-INF/sys/user_manager.jsp"/> 		
  </action>
  <action 	path="/saveupdateuser" type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="saveUpdateUser" name="userForm">     			
    		<forward name="userright_userlist" path="/listuser.do"/> 
    		<forward name="fail" path="/WEB-INF/sys/fail.jsp"/>			
  </action>
  <action 	path="/deleteuser" type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="deleteUser">     			
    		<forward name="userright_userlist" path="/listuser.do"/> 
    		<forward name="fail" path="/WEB-INF/sys/fail.jsp"/>			
  </action>
		
  <!-- group manager -->   
  <action 	path="/grouplist" 
  			type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="groupList">     			
    		<forward name="showgrouplist" path="/WEB-INF/sys/group_list.jsp"/> 			
  </action>
  <action 	path="/gonewgroup" type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="goNewGroup">     			
    		<forward name="continue" path="/WEB-INF/sys/group_manager.jsp"/> 		
  </action>
  <action 	path="/saveupdategroup" type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="saveUpdateGroup" name="groupForm">     			
    		<forward name="userright_grouplist" path="/grouplist.do"/> 		
  </action>
  <action 	path="/deletegroup" type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="deleteGroup">     			
    		<forward name="userright_grouplist" path="/grouplist.do"/> 		
  </action>
  
  <!-- purview action -->
  <action 	path="/listpurview" 
  			type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="listPurview">     			
    		<forward name="showpurviewlist" path="/WEB-INF/sys/purview_list.jsp"/> 			
  </action>
  <action 	path="/gonewpurview" type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="goNewPurview">     			
    		<forward name="continue" path="/WEB-INF/sys/purview_manager.jsp"/> 		
  </action>
  <action 	path="/saveupdatepurview" type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="saveUpdatePurview" name="purviewForm">     			
    		<forward name="userright_purviewlist" path="/listpurview.do"/>	
  </action>
  <action 	path="/deletepurview" type="org.springframework.web.struts.DelegatingActionProxy"
   			parameter="deletePurview">     			
    		<forward name="userright_purviewlist" path="/listpurview.do"/> 	
  </action>
  
  </action-mappings>
  
  <message-resources parameter="com.smit.web.res.ApplicationResources" />
  
  <plug-in className="org.apache.struts.validator.ValidatorPlugIn" >
	<set-property property="pathnames"
	value="/WEB-INF/validator-rules.xml, /WEB-INF/validator-user.xml"/> 
  </plug-in>
   
</struts-config>



